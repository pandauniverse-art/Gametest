<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Asset Matcher: Traps</title>
<style>
body{margin:0;background:#111;color:#fff;font-family:sans-serif;display:flex;flex-direction:column;align-items:center;height:100vh}
#grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;perspective:1000px}
.card{width:70px;height:70px;position:relative;transform-style:preserve-3d;transition:0.5s;cursor:pointer}
.card.flip{transform:rotateY(180deg)}
.face{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;align-items:center;justify-content:center;font-size:30px;border-radius:10px;box-shadow:0 4px 10px #000}
.front{background:#333;border:2px solid #555}.back{background:#222;border:2px solid #0f0;transform:rotateY(180deg)}
.trap .back{border-color:red;background:#300}
#hud{font-size:24px;margin-bottom:20px;color:#0f0}
.ui{position:absolute;background:rgba(0,0,0,0.9);width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:10}
.hidden{display:none}button{padding:10px 30px;font-size:20px;margin-top:20px;cursor:pointer;background:#0f0;border:none;border-radius:5px}
#back{position:absolute;top:20px;left:20px;color:#fff;text-decoration:none;border:1px solid #fff;padding:5px}
</style>
</head>
<body>
<a href="index.html" id="back">üè† HOME</a>
<div id="hud">TIME: <span id="time">60</span>s</div>
<div id="grid"></div>
<div id="start" class="ui"><h1>ASSET MATCHER</h1><p>Beware of Bombs(üí£) & Shuffle(üîÄ)</p><button onclick="game()">START</button></div>
<div id="end" class="ui hidden"><h1 id="res"></h1><button onclick="game()">RETRY</button></div>
<script>
const items=['üíæ','üìÅ','üñåÔ∏è','üé®','üì∑','üí£','üîÄ']; // Ìè≠ÌÉÑ, ÏÖîÌîå Ï∂îÍ∞Ä
let cards=[],flip=[],lock=false,time=60,timer,matched=0;
const grid=document.getElementById('grid');
function game(){
 document.querySelectorAll('.ui').forEach(e=>e.classList.add('hidden'));
 let deck=[...items,...items,'üíæ','üìÅ'].slice(0,16).sort(()=>Math.random()-0.5); // 16Ïû• Ï±ÑÏö∞Í∏∞
 grid.innerHTML='';cards=[];flip=[];matched=0;time=60;lock=false;
 document.getElementById('time').innerText=time;
 if(timer)clearInterval(timer);
 timer=setInterval(()=>{time--;document.getElementById('time').innerText=time;if(time<=0)end(false)},1000);
 deck.forEach(item=>{
  let c=document.createElement('div');c.className='card';if(item=='üí£'||item=='üîÄ')c.classList.add('trap');
  c.innerHTML=`<div class="face front"></div><div class="face back">${item}</div>`;
  c.onclick=()=>click(c,item);grid.appendChild(c);
 });
}
function click(c,item){
 if(lock||c.classList.contains('flip')||time<=0)return;
 c.classList.add('flip');flip.push({el:c,val:item});
 if(flip.length==2)check();
}
function check(){
 lock=true; let [a,b]=flip;
 if(a.val==b.val){
  if(a.val=='üí£'){time-=10;shake();} // Ìè≠ÌÉÑ ÌéòÎÑêÌã∞
  else if(a.val=='üîÄ'){setTimeout(shuffle,500);} // ÏÖîÌîå
  else matched++;
  setTimeout(()=>{flip=[];lock=false;if(matched>=6)end(true)},500); // Î™©Ìëú Îã¨ÏÑ± Ï≤¥ÌÅ¨
 }else{
  setTimeout(()=>{a.el.classList.remove('flip');b.el.classList.remove('flip');flip=[];lock=false},1000);
 }
}
function shuffle(){
 grid.innerHTML=''; // Îã®Ïàú Ïû¨Î∞∞Ïπò (ÏãúÍ∞ÑÍ¥ÄÍ≥ÑÏÉÅ Î¶¨ÏÖã ÎäêÎÇå)
 let kids=Array.from(grid.children).sort(()=>Math.random()-0.5);
 kids.forEach(k=>grid.appendChild(k));
}
function shake(){document.body.style.transform='translateX(5px)';setTimeout(()=>document.body.style.transform='translateX(0)',100);}
function end(win){
 clearInterval(timer);
 document.getElementById('end').classList.remove('hidden');
 document.getElementById('res').innerText=win?"CLEARED!":"TIME OVER";
 document.getElementById('res').style.color=win?"#0f0":"#f00";
}
</script></body></html>
